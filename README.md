# Тренерский микросервис для тренажерного зала

Этот микросервис предназначен для управления информацией о клиентах тренажерного зала, в частности для работы с данными тренеров.
Он использует базу данных PostgreSQL для хранения различных сведений о тренерах, включая их имена, фамилии, возраст, номера телефонов, даты рождения, имейлы и фотографии.

## Функциональные возможности

- Получение минимальной информации обо всех тренерах
- Получение детальной информации о конкретном тренере
- Добавление нового тренера
- Архивирование тренера
- Обновление информации о тренере
- Удаление тренера из базы данных
- Загрузка фотографии тренера
- Получение главной фотографии тренера

## Используемые технологии

- **Spring Boot** - Фреймворк для создания микросервиса
- **PostgreSQL** - База данных для хранения информации о тренерах
- **JDBC** - Абстракция для работы с данными
- **Spring MVC** - Фреймворк для создания RESTful веб-сервисов
- **JSon** - Легковесный формат для передачи данных
- **Docker** - Для упрощения развертывания и работы с микросервисами 

## Конечные точки (Endpoints)

### Получить всех тренеров

Получение минимальной информации обо всех тренерах.

- **URL:** `/coaches`
- **Метод:** `GET`
- **Ответ:** Список объектов `CoachMinimalDto`

### Получить тренера по ID

Получение детальной информации о конкретном тренере.

- **URL:** `/coach/{id}`
- **Метод:** `GET`
- **Путь переменная:** `id` - UUID тренера
- **Ответ:** Объект `Coach` или `HTTP 404`, если не найден

### Добавить нового тренера

Добавление нового тренера в базу данных.

- **URL:** `/coach`
- **Метод:** `POST`
- **Тело запроса:** Объект `CoachDto`

### Архивировать тренера

Архивирование тренера, помечая его как неактивного.

- **URL:** `/coach/{id}`
- **Метод:** `DELETE`
- **Путь переменная:** `id` - UUID тренера
- **Ответ:** `HTTP 200`, если успешно, `HTTP 404`, если не найден

### Обновить информацию о тренере

Обновление полей существующего тренера.

- **URL:** `/coach`
- **Метод:** `PUT`
- **Тело запроса:** Объект `CoachDto`
- **Ответ:** `HTTP 200`, если успешно

### Удалить тренера

Удаление тренера из базы данных.

- **URL:** `/coach/delete/{id}`
- **Метод:** `DELETE`
- **Путь переменная:** `id` - UUID тренера

### Загрузить фотографию тренера

Загрузка фотографии для тренера.

- **URL:** `/coach/{id}/uploadImage`
- **Метод:** `POST`
- **Параметры запроса:** Файл `file` и флаг `is_main`
- **Тело запроса:** `multipart/form-data`

### Получить фотографию тренера

Получение главной фотографии тренера.

- **URL:** `/coach/{id}/photo`
- **Метод:** `GET`
- **Путь переменная:** `id` - UUID тренера
- **Ответ:** Байтовый массив изображения в формате JPEG
